{% extends "layout.html" %}
{% block content %}

<h1 style="text-align: center;">Create Your Deck</h1>

<!-- Deck Slots -->
<div class="deck-container">
    <div class="deck-slot" id="slot1" onclick="replaceCardInSlot(1)"></div>
    <div class="deck-slot" id="slot2" onclick="replaceCardInSlot(2)"></div>
    <div class="deck-slot" id="slot3" onclick="replaceCardInSlot(3)"></div>
    <div class="deck-slot" id="slot4" onclick="replaceCardInSlot(4)"></div>
    <div class="deck-slot" id="slot5" onclick="replaceCardInSlot(5)"></div>
    <div class="deck-slot" id="slot6" onclick="replaceCardInSlot(6)"></div>
    <div class="deck-slot" id="slot7" onclick="replaceCardInSlot(7)"></div>
    <div class="deck-slot" id="slot8" onclick="replaceCardInSlot(8)"></div>
</div>

<!-- Cancel Shaking Button -->
<button id="cancelShake" class="btn btn-primary" onclick="cancelShake()">Cancel Add</button>

<!-- Shake Overlay -->
<div class="shake-overlay"></div>

<!-- Card Grid -->
<div class="card-grid-container" id="cardGrid">
    {% for card in cards %}
        {% set rarity_class = '' %}
        {% if card.rarity_type.type == 'Common' %}
            {% set rarity_class = 'common' %}
        {% elif card.rarity_type.type == 'Rare' %}
            {% set rarity_class = 'rare' %}
        {% elif card.rarity_type.type == 'Epic' %}
            {% set rarity_class = 'epic' %}
        {% elif card.rarity_type.type == 'Legendary' %}
            {% set rarity_class = 'legendary' %}
        {% endif %}
        <div class="card-item" id="card-{{ card.id }}" onclick="selectCard('{{ card.id }}', '{{ url_for('static', filename=card.image)}}')">
            <div class="image-container {{ rarity_class }}">
                <img src="{{ url_for('static', filename=card.image) }}" alt="{{ card.name }}" width="90" height="100">
                <div class="card-name">{{ card.name }}</div>
            </div>
        </div>
    {% endfor %}
</div><br>

<!-- Add Deck Button -->
<button type="button" name="submit_special" class="btn btn-primary" onclick="submitDeck()">Add Deck</button>
<div class="mt-3">
    <a href="{{ url_for('deck') }}" class="btn1 btn-secondary">Back to All Decks</a>
</div>

<script src="{{ url_for('static', filename='js/add_deck.js') }}"></script>

{% endblock %}
